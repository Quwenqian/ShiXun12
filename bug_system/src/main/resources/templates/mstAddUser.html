<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org/">
<head>
    <meta charset="UTF-8">
    <title>添加用户</title>
    <script type="text/javascript" th:src="@{/js/jquery.min.js}"></script>
</head>
<body>
<form method="post">
    <input type="text" name="userName" ><br />
    <input type="password" name="password" ><br />
    <select name="roleId">
        <option >请选择角色</option>
        <option th:each="r:${roles}" th:value="${r.roleId}" th:text="${r.roleName}"></option>
    </select>
    <button type="button" onclick="submitAddUser()">提交</button>
</form>

</body>
<script type="text/javascript">
    var ctx = [[@{/}]];
        function submitAddUser(){

            var userName = $("input[name='userName']").val();
            var password = $("input[name='password']").val();
            var roleId = $(":selected").val();
            $.ajax({
                url:ctx+"user/addUser",
                type:"post",
                data:{'userName':userName,"password":password,"userRole.roleId":roleId},
                dataType:"text",
                success:function(d){
                    alert(d);
                }
            });

        }

</script>

</html>